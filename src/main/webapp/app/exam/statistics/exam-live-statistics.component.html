<div>
    <div *ngIf="exam">
        <!-- Exam Live Statistics info bar -->
        <div class="course-info-bar">
            <div class="row">
                <div class="d-flex flex-row align-items-center">
                    <h2 class="mb-1" jhiTranslate="artemisApp.examLiveStatistics.title"></h2>
                    <span
                        [jhiTranslate]="
                            !this.examLiveStatisticsGloballyEnabled
                                ? 'artemisApp.examLiveStatistics.globallyDisabled'
                                : 'artemisApp.examLiveStatistics.' + (this.exam.liveStatistics ? 'enabled' : 'disabled')
                        "
                        class="badge ms-2 exam-live-statistics-badge align-items-center"
                        [class.bg-danger]="!this.examLiveStatisticsGloballyEnabled || !this.exam.liveStatistics"
                        [class.bg-success]="this.examLiveStatisticsGloballyEnabled && this.exam.liveStatistics"
                    ></span>
                </div>
                <button
                    class="hand btn btn-primary"
                    [class.btn-success]="!this.examLiveStatisticsGloballyEnabled || !this.exam.liveStatistics"
                    [class.btn-danger]="this.examLiveStatisticsGloballyEnabled && this.exam.liveStatistics"
                    (click)="updateExamLiveStatistics()"
                    [jhiFeatureToggle]="FeatureToggle.ExamLiveStatistics"
                >
                    <span [jhiTranslate]="'artemisApp.examLiveStatistics.' + (this.examLiveStatisticsGloballyEnabled && this.exam.liveStatistics ? 'disable' : 'enable')"
                        >Enable</span
                    >
                </button>
            </div>
        </div>

        <div class="row mt-3">
            <div class="col-md">
                <span class="exam-live-statistics-description" jhiTranslate="artemisApp.examLiveStatistics.description"></span>
            </div>
            <div class="col-md exam-live-statistic-side-panel-container">
                <div class="exam-live-statistic-side-panel">
                    <jhi-side-panel
                        [panelHeader]="'artemisApp.examLiveStatistics.table.panelHeader' | artemisTranslate"
                        [panelDescriptionHeader]="'artemisApp.examLiveStatistics.table.panelDescriptionHeader' | artemisTranslate"
                    >
                        <div>
                            <div *ngFor="let content of this.table" class="row mb-1 g-0">
                                <div class="col-7">{{ 'artemisApp.examLiveStatistics.table.' + content.translateValue | artemisTranslate }}:</div>
                                <div class="col-5">{{ content.value }}</div>
                            </div>
                        </div>
                    </jhi-side-panel>
                </div>
            </div>
        </div>

        <!-- Exam Live Statistics sections -->
        <div class="tab-bar tab-bar-overview ps-3" id="live-statistics-tab-bar">
            <div class="col-12">
                <div>
                    <div *ngFor="let section of this.sections" id="live-statistics-{{ section }}-tab" class="tab-item" [routerLink]="section" routerLinkActive="active">
                        <b jhiTranslate="artemisApp.examLiveStatistics.menu.{{ section }}.title">{{ section }}</b>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="exam.liveStatistics" class="position-relative">
            <router-outlet></router-outlet>
        </div>
    </div>
</div>
