<aside class="chat-session-sidebar">
    <jhi-data-table
        [showPageSizeDropdown]="false"
        entityType="user"
        [searchFields]="['name']"
        [isLoading]="isLoading"
        [isSearching]="isSearching"
        [searchFailed]="searchFailed"
        [searchNoResults]="searchNoResults"
        [isTransitioning]="isTransitioning"
        [onSearchWrapper]="searchUsersWithinCourse"
        [searchResultFormatter]="searchResultFormatter"
        [onAutocompleteSelectWrapper]="onAutocompleteSelect"
        [searchTextFromEntity]="clearUserSearchBar"
        searchPlaceholderTranslation="artemisApp.messages.chatSession.searchForUsers"
    ></jhi-data-table>

    <ul class="chat-session-list" *ngIf="chatSessions && chatSessions.length">
        <li
            *ngFor="let chatSession of chatSessions"
            class="chat-session-list-item"
            [class.selected]="activeChatSession.id === chatSession.id"
            (click)="selectChatSession.emit(chatSession)"
        >
            <div class="chat-session-list-item-info">
                <span class="chat-session-list-item-students">
                    <span>{{ getNameOfChatSessionParticipant(chatSession) }}</span>
                </span>
            </div>
        </li>
    </ul>

    <div class="chat-session-empty" *ngIf="!chatSessions || chatSessions.length == 0">
        {{ 'artemisApp.messages.chatSession.notFound' | artemisTranslate }}
    </div>

    <div class="plagiarism-paging">
        <div class="plagiarism-paging-left" [class.disabled]="currentPage === 0" (click)="handlePageLeft()">
            <fa-icon [icon]="faArrowLeft"></fa-icon>
        </div>
        <div class="plagiarism-paging-center">{{ currentPage + 1 }}/{{ numberOfPages + 1 }}</div>
        <div class="plagiarism-paging-right" [class.disabled]="currentPage === numberOfPages" (click)="handlePageRight()">
            <fa-icon [icon]="faArrowRight"></fa-icon>
        </div>
    </div>
</aside>
